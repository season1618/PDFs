\section{実数と位相}

ピタゴラスの時代、全ての数は有理数、つまり整数$a, b$で$a/b$という形で表せると考えられていた。そのうち無理数が発見されると、有理数と無理数を合わせた数が考えられるようになった。これは現代では実数と呼ばれている。実数といった場合、十進数による表記を想像することが多い。つまり整数列$\{a_n\}_n, n = \ldots, 2, 1, 0, -1, -2,\ldots$を用いて$\cdots a_2a_1a_0.a_{-1}a_{-2}\cdots$と表せる。分数による表記が全ての実数を表現できないことが自明でないのと同様に、十進数表記があらゆる実数を表現できることもあまり自明ではない。ここで実数概念を明確に定義する必要がある。数の体系には様々あるが、微分積分学において有用な数の体系は数直線上の点と一対一に対応するようなものである。そこで直線の性質(連続性)の反映としてを実数の連続性を定義する。そして実数を抽象的に定義した後で、十進数を含めた一般の小数表記が実数の定義を満たすことを示す。

\subsection{実数の定義}
	整数$\Z$と有理数$\Q$は定義されているとする。
	\begin{dfn}[最大値・最小値]
		$A$を空でない半順序集合とする。$M \in A$で$A$の任意の元$x$に対して$x \leq M$であるとき$M$を$A$の最大値という。$m \in A$で$A$の任意の元$x$に対して$x \geq m$であるとき$m$を$A$の最小値という。
	\end{dfn}
	\begin{dfn}[上界・下界]
		$A$の任意の元$x$に対して$x \leq M$であるとき$M$を$A$の上界という。$A$の任意の元$x$に対して$x \geq m$であるとき$m$を$A$の下界という。$A$に上界が存在するとき上に有界であると言い、下界が存在するとき下に有界であるという。
	\end{dfn}
	\begin{dfn}[上限・下限]
		$A$の上界の集合に最小値が存在するとき、それを$A$の上限と言い$\sup A$で表す。$A$の下界の集合に最大値が存在するとき、それを$A$の下限と言い$\inf A$で表す。
	\end{dfn}
	\begin{dfn}[実数]
		以下の三つの公理を満たすものを実数体$\R$、実数体の元を実数と呼ぶ。
		\begin{enumerate}
			\item 可換体の公理
			\item 順序の公理
			\begin{description}
				\item[全順序] 
				\item[四則演算と順序の両立]
				\begin{itemize}
					\item $x \leq y \rightarrow x + z \leq y + z$
					\item $x \leq y \and z \geq 0 \rightarrow xz \leq yz$
				\end{itemize} 
			\end{description}
			\item 連続性の公理...空でない上に有界な部分集合には上限が存在する(上限性質)。
		\end{enumerate}
	\end{dfn}
	上限性質と同値な命題には
	\begin{itemize}
		\item デデキントの公理
		\item 有界単調数列の収束定理
		\item ボルツァーノ・ワイエルシュトラスの定理
		\item アルキメデスの原理$+$コーシー列の収束
		\item 最大値・最小値定理
		\item 中間値の定理
		\item ロルの定理
		\item ラグランジュの平均値の定理
		\item コーシーの平均値の定理
		\item ハイネ・ボレルの定理
	\end{itemize}
	がある。
	\begin{thm}[実数の一意性]
		実数の公理を満たす体$K_1, K_2$があったときこれらは同型である。
	\end{thm}

\subsection{実数の構成}
	\subsubsection{デデキント切断による構成}
		\begin{dfn}[デデキント切断]
			全順序集合$K$について、$K = A \cup B, A, B \neq \varnothing, $任意の$a \in A, b \in B$に対して$a < b$が成り立つような$(A, B)$をデデキント切断という。
		\end{dfn}
		$\Q$の切断$(A, B)$は有理数の稠密性より以下の三つに分類される。
		\begin{enumerate}
			\item $A$に最大元があり、$B$に最小元がない。
			\item $A$に最大元がなく、$B$に最小元がある。
			\item $A$に最大元がなく、$B$に最小元がない。
		\end{enumerate}
		最初の二つの場合は$A$の最大元または$B$の最小元である有理数と同一視する。最後の場合は無理数と同一視する。
		\begin{axm}[デデキントの公理]
			実数体$\R$の切断$(A, B)$は以下のいずれかである。
			\begin{enumerate}
				\item $A$に最大元があり、$B$に最小元がない。
				\item $A$に最大元がなく、$B$に最小元がある。
			\end{enumerate}
		\end{axm}

	\subsubsection{コーシー列による構成}
		\begin{dfn}[極限,$\epsilon-N$論法]
			数列${a_n}$が$\alpha$に収束するとは、任意の$\epsilon > 0$に対して$N_0 \in \N$が存在し、任意の$n \geq N_0$に対し$|a_n - \alpha| < \epsilon$となること。これを
				\[\lim_{n \to \infty} a_n = \alpha または a_n \to \alpha\]
			と書く。$\alpha$は${a_n}$の極限(値)という。
		\end{dfn}
		極限は後で実数に対して一般に定義するが、ここでは整数と有理数のみを用いて定義している。
		\begin{dfn}[コーシー列]
			数列${a_n}$で、任意の$\epsilon > 0$に対して$N_0 \in \N$が存在し、任意の$n, m \geq N_0$について$|a_n - a_m| < \epsilon$であるようなものをコーシー列という。
		\end{dfn}
		有理コーシー列に対して同値関係
			\[{x_n} ~ {y_n} \leftrightarrow \lim_{n \to \infty} |x_n - y_n| = 0\]
		を導入する。コーシー列の四則演算を項同士の四則演算を元に定義することができる。このとき$0, 0, \ldots$が零元となる。また
			\[{x_n} \leq {y_n} \leftrightarrow \lim_{n \to \infty} \max{0, x_n - y_n} = 0\]
		で定義する。有理コーシー列の同値類を実数と定義する。

		実数のコーシー列${x_n}$に対して有理コーシー列${y_n}$で任意の$n$で$|x_n - y_n| < \frac{1}{n}$となるようなものを考えることができる。
			\[|y_i - y_j| < |x_i - x_j| + \frac{1}{i} + \frac{1}{j} \to 0 (i, j \to \infty)\]
		よって実数のコーシー列は実数に収束する。つまり$\R$は完備である。

		\begin{thm}[実数の十進数表示]
				\[x_n = a_0 + \frac{a_1}{10} + \frac{a_2}{10^2} + \dots + \frac{a_n}{10^n} (a_0 \in \Z, 0 \leq a_i < 10)\]
			とする。${x_n}$は有理コーシー列であり、任意の実数$x$に対して$x$に収束するこの形の有理コーシー列が存在する。
		\end{thm}
		\begin{proof}
			$n > m \geq N_0$とすると
			\begin{align*}
				|x_n - x_m|
				&= \frac{a_{m+1}}{10^{m+1}} + \dots + \frac{a_n}{10^n}\\
				&< \frac{1}{10^m} + \dots + \frac{1}{10^{n-1}}\\
				&< \frac{1}{10^{N_0-1}} \to 0(N_0 \to 0)
			\end{align*}
			なので${x_n}$は有理コーシー列である。

			$a_0 \leq x < a_0 + 1$となる$a_0 \in \Z$が存在する。$\sum_{i=0}^n \frac{a_i}{10^i} \leq x < \sum_{i=0}^n \frac{a_i}{10^i} + \frac{1}{10^n}$であるとき$\sum_{i=0}^{n+1} \frac{a_i}{10^i} \leq x < \sum_{i=0}^{n+1} \frac{a_i}{10^i} + \frac{1}{10^{n+1}}$となるような$a_{n+1}$が存在する。このとき${x_n}$は$x$に収束する。
		\end{proof}
		$0.999\cdots(0, 0.9, 0.99, \ldots)$と$1(1, 1, 1, \ldots)$のように同値な有理コーシー列もあるので実数の十進数表現は一意ではない。

\subsection{数列の極限}
	\begin{dfn}[極限,$\epsilon-N$論法]
		数列${a_n}$が$\alpha$に収束するとは、任意の$\epsilon > 0$に対して$N_0 \in \N$が存在し、任意の$n \geq N_0$に対し$|a_n - \alpha| < \epsilon$となること。これを
			\[\lim_{n \to \infty} a_n = \alpha または a_n \to \alpha\]
		と書く。$\alpha$は${a_n}$の極限(値)という。どのような実数にも収束しない場合発散するという。
	\end{dfn}
	\begin{prop}[極限の一意性]
		ある数列に対し、極限が存在すれば一意である。
	\end{prop}
	\begin{prop}
		ある数列が極限を持つとき、部分列も同じ極限を持つ。
	\end{prop}
	\begin{dfn}
		数列${a_n}$に関して、任意の実数$M$に対して$N_0 \in \N$が存在し、任意の$n \geq N_0$について$a_n > M$が成り立つとき$\infty$に発散すると言い
			\[\lim_{n \to \infty} a_n = \infty\]
		と書く。${-a_n}$が$\infty$に発散するとき${a_n}$は$-\infty$に発散すると言い
			\[\lim_{n \to \infty} a_n = -\infty\]
		と書く。
	\end{dfn}

	\begin{thm}[はさみうちの原理]
		$x_n \leq z_n \leq y_n$で$x_n, y_n \to a$なら$z_n \to a$である。
	\end{thm}

	\begin{thm}[有界単調数列の収束定理]
		有界な単調数列は収束する。
	\end{thm}
	\begin{proof}
		${a_n}$が単調増加の場合を考える。集合${a_n}$は上に有界なので上限が存在し、$\alpha = \sup{a_n}$と置く。任意の$\epsilon > 0$に対し、$\alpha - \epsilon < a_N \leq \alpha$となる$N$が存在する。単調増加なので$n \geq N$について
		\begin{align*}
			\alpha - \epsilon < a_n \leq \alpha\\
			|a_n - \alpha| < \epsilon\\
		\end{align*}
		よって${a_n}$は$\alpha$に収束する。
	\end{proof}

	\begin{thm}[ボルツァーノ・ワイエルシュトラスの定理]
		有界な数列は収束する部分列を含む。
	\end{thm}

	\begin{prop}
		収束列であることとコーシー列であることは同値。
	\end{prop}

\subsection{関数の連続性}
	\begin{dfn}[関数の極限,$\epsilon-\delta$論法]
		$a$の除外近傍で定義された関数$f(x)$について、任意の$\epsilon > 0$に対してある$\delta > 0$が存在し、
			\[0 < |x - a| < \delta \rightarrow |f(x) - b| < \epsilon\]
		が成り立つとき
			\[\lim_{x \to a} f(x) = b\]
		と書き、$b$を$f$の$x \to a$としたときの極限値という。
	\end{dfn}
	\begin{dfn}[関数の連続]
			\[\lim_{x \to a} f(x) = f(a)\]
		であるとき、$f$は$a$において連続であるという。
	\end{dfn}
	\begin{prop}[合成関数の連続性]
		$f$が$D$上で連続、$x$が$I$上で連続とする。$x(I) \subset D$なら合成関数$f(x(t))$も$I$上連続である。
	\end{prop}

	\begin{prop}
		閉区間で連続な関数は有界
	\end{prop}
	\begin{thm}[最大値・最小値定理]
		関数$f$が閉区間$[a, b]$で連続なら、この区間で最大値・最小値が存在する。
	\end{thm}
	\begin{proof}
		最大値のみ示す。関数$f$は有界なので集合${f(x) \mid x \in [a, b]}$には上限が存在し、$M$と置く。
	\end{proof}

	\begin{thm}[中間値の定理]
		関数$f$が閉区間$[a, b]$で連続で、$f(a) < f(b)$のとき、任意の$f(a) < c < f(b)$に対し、$f(x) = c$となる$a < x < b$が存在。
	\end{thm}
	\begin{proof}
		$a_0 = a, b_0 = b, m_i = (a_i + b_i)/2$とおく。$f(m_i) \leq c$なら$a_{i+1} = m_i, b_{i+1} = b_i$、$f(m_i) > c$なら$a_{i+1} = a_i, b_{i+1} = m_i$とすると、$m_i, f(m_i)$は収束し、
			\[f(\lim_{i \to \infty} m_i) = \lim_{i \to \infty} f(m_i) = c\]
		となる。
	\end{proof}

\subsection{関数列の極限}
	\begin{dfn}[一様収束，各点収束]
		関数列$\{f_n\}$が$g$で、任意の$x \in I$に対して
			\[\lim_{n \to \infty} \max\{|f_n(x) - g(x)|\} = 0\]
		となるとき一様収束するという。また、ある$x \in I$について
			\[\lim_{n \to \infty} f_n(x) = g(x)\]
		となるとき各点収束するという。
	\end{dfn}

	\begin{thm}
		連続関数列$\{f_n\}$が関数$g$に一様収束するとき、$g$は連続関数となる。
	\end{thm}
	\begin{proof}
		任意の$\epsilon > 0$に対してある$N, \delta > 0$が存在して
		\begin{align*}
			n \geq N \rightarrow |f_n(x) - g(x)|, |f_n(c) - g(c)| < \epsilon\\
			|x - c| < \delta \rightarrow |f_N(x) - f_N(c)| < \epsilon\\
		\end{align*}
		なので
		\begin{align*}
			g(x) - g(c) &= -(f_n(x) - g(x)) + (f_n(c) - g(c)) + (f_n(x) - f_n(c))\\
			|g(x) - g(c)| &\leq |f_N(x) - g(x)| + |f_N(c) - g(c)| + |f_N(x) - f_N(c)|
			&< 3\epsilon
		\end{align*}
	\end{proof}

	\begin{thm}[ワイエルシュトラスの近似定理]
		閉区間上の連続関数$f$に関して、任意の$\epsilon > 0$に対してある多項式$p$が存在し$\max|f(x) - p(x)| < \epsilon$となる。
	\end{thm}
	\begin{dfn}[バーンスタイン多項式]
			\[B_n(x) = \sum_{k=0}^n f\(\frac{k}{n}\)\binom{n}{k}x^k(1 - x)^{n-k}\]
	\end{dfn}
	\begin{thm}[ディニの定理]
		閉区間において、任意の点で単調増加または任意の点で単調減少する連続関数列$\{f_n\}$が連続関数$g$に各点収束するとき、$f_n$は$g$に一様収束する。
	\end{thm}
	\begin{proof}
		単調増加とする。任意の$\epsilon > 0$に対してある$N$が存在し$n \geq N$ならば
			\[g(x) - f_n(x) < \epsilon\]
	\end{proof}

	\begin{dfn}[一様ノルム]
		区間において関数$f$の一様ノルムを
			\[\|f\| = \sup|f(x)|\]
		と定義する。ただし$|f|$が上に有界でないときは$\infty$とすれば良い。
	\end{dfn}
	\begin{dfn}[一様コーシー列]
		任意の$\epsilon > 0$に対してある$N$が存在して
			\[n, m \geq N \rightarrow \max|f_n(x) - f_m(x)| < \epsilon\]
		となるとき一様コーシー列であるという。
	\end{dfn}
	\begin{prop}
		一様収束する関数列であることと一様コーシー列であることは同値
	\end{prop}